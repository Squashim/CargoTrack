import { useTheme } from '@/features/theme/use-theme';
import { cn } from '@/lib/utils';
import { cva, type VariantProps } from 'class-variance-authority';
import type { SVGProps } from 'react';

const logoVariants = cva('transition-all duration-300 ease-in-out ', {
  variants: {
    size: {
      default: 'w-18',
      sm: 'w-12',
      lg: 'w-28',
    },
  },
  defaultVariants: {
    size: 'default',
  },
});

const LOGO_COLORS = {
  light: '#0C0A09',
  dark: '#F9F9F8',
};

function Logo({
  className,
  size,
  redirect = false,
  fill,
  ...props
}: SVGProps<SVGSVGElement> &
  VariantProps<typeof logoVariants> & {
    redirect?: boolean;
  }) {
  const { theme } = useTheme();
  const isDarkMode =
    theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches);
  const logoColor = fill ? fill : isDarkMode ? LOGO_COLORS.dark : LOGO_COLORS.light;

  const logoSvg = (
    <svg
      className={cn(logoVariants({ className, size }), 'aspect-158/79')}
      viewBox="0 0 158 79"
      xmlns="http://www.w3.org/2000/svg"
      {...props}
    >
      <path
        d="M125.837 38.145L117.523 42.8958C116.891 43.2612 116.365 43.7865 115.999 44.4191C115.634 45.0517 115.441 45.7693 115.44 46.5V63.1667C115.441 63.8973 115.634 64.615 115.999 65.2476C116.365 65.8802 116.891 66.4055 117.523 66.7708L132.107 75.1042C132.74 75.4699 133.459 75.6624 134.19 75.6624M125.837 38.145C128.611 41.3729 131.388 43.9095 132.938 45.2479C133.299 45.5194 133.738 45.6661 134.19 45.6661C134.642 45.6661 135.081 45.5194 135.442 45.2479C136.992 43.9095 139.769 41.3729 142.543 38.145M125.837 38.145C121.677 33.3038 117.523 26.9076 117.523 20.6667C117.523 16.2464 119.279 12.0072 122.405 8.88155C125.53 5.75595 129.77 4 134.19 4C138.61 4 142.85 5.75595 145.975 8.88155C149.101 12.0072 150.857 16.2464 150.857 20.6667C150.857 26.9076 146.703 33.3038 142.543 38.145M134.19 75.6624C134.921 75.6624 135.64 75.4699 136.273 75.1042L150.857 66.7708C151.489 66.4055 152.015 65.8802 152.381 65.2476C152.746 64.615 152.939 63.8973 152.94 63.1667V46.5C152.939 45.7693 152.746 45.0517 152.381 44.4191C152.015 43.7865 151.489 43.2612 150.857 42.8958L142.543 38.145M134.19 75.6624V54.8333M134.19 54.8333L116.044 44.4167M134.19 54.8333L152.336 44.4167M140.44 20.6667C140.44 24.1184 137.642 26.9167 134.19 26.9167C130.738 26.9167 127.94 24.1184 127.94 20.6667C127.94 17.2149 130.738 14.4167 134.19 14.4167C137.642 14.4167 140.44 17.2149 140.44 20.6667Z"
        stroke-width="4"
        stroke={logoColor}
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
      <path
        d="M17.32 35.48C14.6267 35.48 12.2267 34.8667 10.12 33.64C8.04 32.3867 6.4 30.68 5.2 28.52C4.02667 26.3334 3.44 23.8267 3.44 21C3.44 18.1734 4.02667 15.68 5.2 13.52C6.4 11.3334 8.04 9.62669 10.12 8.40002C12.2 7.14669 14.5867 6.52002 17.28 6.52002C19.0933 6.52002 20.8 6.85335 22.4 7.52002C24 8.16002 25.4133 9.05335 26.64 10.2C27.8933 11.3467 28.8533 12.68 29.52 14.2L25.28 15.92C24.8 14.9067 24.1467 14.0134 23.32 13.24C22.52 12.44 21.6 11.8267 20.56 11.4C19.52 10.9734 18.4267 10.76 17.28 10.76C15.52 10.76 13.9467 11.2 12.56 12.08C11.2 12.96 10.12 14.1734 9.32 15.72C8.54667 17.24 8.16 19 8.16 21C8.16 23 8.54667 24.7734 9.32 26.32C10.12 27.8667 11.2133 29.08 12.6 29.96C14.0133 30.84 15.6133 31.28 17.4 31.28C18.5733 31.28 19.6667 31.0534 20.68 30.6C21.72 30.12 22.64 29.4667 23.44 28.64C24.2667 27.8134 24.92 26.8534 25.4 25.76L29.64 27.48C28.9733 29.0534 28.0267 30.4534 26.8 31.68C25.5733 32.88 24.1467 33.8134 22.52 34.48C20.8933 35.1467 19.16 35.48 17.32 35.48Z"
        fill={logoColor}
      />
      <path
        d="M45.4663 35L45.2663 31.24V24.72C45.2663 23.36 45.1196 22.2267 44.8263 21.32C44.5596 20.3867 44.1063 19.68 43.4663 19.2C42.8529 18.6934 42.0263 18.44 40.9863 18.44C40.0263 18.44 39.1863 18.64 38.4663 19.04C37.7463 19.44 37.1329 20.0667 36.6263 20.92L32.7063 19.48C33.1329 18.6 33.6929 17.7867 34.3863 17.04C35.1063 16.2667 35.9996 15.6534 37.0663 15.2C38.1596 14.7467 39.4663 14.52 40.9863 14.52C42.9329 14.52 44.5596 14.9067 45.8663 15.68C47.1729 16.4267 48.1329 17.5067 48.7463 18.92C49.3863 20.3334 49.7063 22.04 49.7063 24.04L49.5863 35H45.4663ZM39.7063 35.48C37.3063 35.48 35.4396 34.9467 34.1063 33.88C32.7996 32.8134 32.1463 31.3067 32.1463 29.36C32.1463 27.28 32.8396 25.6934 34.2263 24.6C35.6396 23.5067 37.5996 22.96 40.1063 22.96H45.4663V26.4H41.5463C39.7596 26.4 38.5063 26.6534 37.7863 27.16C37.0663 27.64 36.7063 28.3334 36.7063 29.24C36.7063 30.0134 37.0129 30.6267 37.6263 31.08C38.2663 31.5067 39.1463 31.72 40.2663 31.72C41.2796 31.72 42.1596 31.4934 42.9063 31.04C43.6529 30.5867 44.2263 29.9867 44.6263 29.24C45.0529 28.4934 45.2663 27.6534 45.2663 26.72H46.5863C46.5863 29.44 46.0396 31.5867 44.9463 33.16C43.8529 34.7067 42.1063 35.48 39.7063 35.48Z"
        fill={logoColor}
      />
      <path
        d="M57.2028 24.36C57.2028 22.2 57.6161 20.4267 58.4428 19.04C59.2695 17.6534 60.3361 16.6267 61.6428 15.96C62.9761 15.2667 64.3628 14.92 65.8028 14.92V19.2C64.5761 19.2 63.4161 19.3734 62.3228 19.72C61.2561 20.04 60.3895 20.5734 59.7228 21.32C59.0561 22.0667 58.7228 23.0534 58.7228 24.28L57.2028 24.36ZM54.2428 35V15H58.7228V35H54.2428Z"
        fill={logoColor}
      />
      <path
        d="M77.3741 43.52C75.9607 43.52 74.6807 43.4 73.5341 43.16C72.4141 42.92 71.4674 42.64 70.6941 42.32C69.9207 42 69.3207 41.6934 68.8941 41.4L70.6141 37.8C70.9874 37.9867 71.4807 38.2134 72.0941 38.48C72.7341 38.7734 73.4807 39.0267 74.3341 39.24C75.1874 39.4534 76.1474 39.56 77.2141 39.56C78.3607 39.56 79.3874 39.32 80.2941 38.84C81.2007 38.3867 81.9074 37.68 82.4141 36.72C82.9207 35.76 83.1741 34.5334 83.1741 33.04V15H87.6541V32.92C87.6541 35.1867 87.2274 37.1067 86.3741 38.68C85.5207 40.28 84.3207 41.48 82.7741 42.28C81.2274 43.1067 79.4274 43.52 77.3741 43.52ZM76.6941 34.6C74.8807 34.6 73.2941 34.1867 71.9341 33.36C70.6007 32.5334 69.5474 31.3867 68.7741 29.92C68.0274 28.4267 67.6541 26.7067 67.6541 24.76C67.6541 22.68 68.0274 20.88 68.7741 19.36C69.5474 17.84 70.6007 16.6534 71.9341 15.8C73.2941 14.9467 74.8807 14.52 76.6941 14.52C78.3207 14.52 79.7341 14.9467 80.9341 15.8C82.1607 16.6534 83.1074 17.8534 83.7741 19.4C84.4407 20.92 84.7741 22.72 84.7741 24.8C84.7741 26.7734 84.4407 28.4934 83.7741 29.96C83.1074 31.4267 82.1607 32.5734 80.9341 33.4C79.7341 34.2 78.3207 34.6 76.6941 34.6ZM77.9341 30.8C78.9474 30.8 79.8274 30.5334 80.5741 30C81.3474 29.4667 81.9474 28.7467 82.3741 27.84C82.8007 26.9067 83.0141 25.84 83.0141 24.64C83.0141 23.4134 82.8007 22.3467 82.3741 21.44C81.9474 20.5067 81.3474 19.7867 80.5741 19.28C79.8007 18.7467 78.9074 18.48 77.8941 18.48C76.8274 18.48 75.8807 18.7467 75.0541 19.28C74.2541 19.7867 73.6141 20.5067 73.1341 21.44C72.6807 22.3467 72.4541 23.4134 72.4541 24.64C72.4541 25.84 72.6807 26.9067 73.1341 27.84C73.6141 28.7467 74.2674 29.4667 75.0941 30C75.9207 30.5334 76.8674 30.8 77.9341 30.8Z"
        fill={logoColor}
      />
      <path
        d="M101.802 35.48C99.8022 35.48 98.0155 35.04 96.4422 34.16C94.8955 33.2534 93.6822 32.0134 92.8022 30.44C91.9222 28.8667 91.4822 27.0534 91.4822 25C91.4822 22.9467 91.9089 21.1334 92.7622 19.56C93.6422 17.9867 94.8555 16.76 96.4022 15.88C97.9489 14.9734 99.7222 14.52 101.722 14.52C103.722 14.52 105.496 14.9734 107.042 15.88C108.589 16.76 109.789 17.9867 110.642 19.56C111.522 21.1334 111.962 22.9467 111.962 25C111.962 27.0534 111.536 28.8667 110.682 30.44C109.829 32.0134 108.629 33.2534 107.082 34.16C105.536 35.04 103.776 35.48 101.802 35.48ZM101.802 31.36C102.896 31.36 103.869 31.0934 104.722 30.56C105.576 30 106.242 29.2534 106.722 28.32C107.202 27.36 107.442 26.2534 107.442 25C107.442 23.7467 107.189 22.6534 106.682 21.72C106.202 20.76 105.536 20.0134 104.682 19.48C103.829 18.92 102.842 18.64 101.722 18.64C100.602 18.64 99.6155 18.9067 98.7622 19.44C97.9089 19.9734 97.2422 20.72 96.7622 21.68C96.2822 22.64 96.0422 23.7467 96.0422 25C96.0422 26.2534 96.2822 27.36 96.7622 28.32C97.2689 29.2534 97.9489 30 98.8022 30.56C99.6822 31.0934 100.682 31.36 101.802 31.36Z"
        fill={logoColor}
      />
      <path d="M20.6484 68V44.24H12.0484V40H33.8884V44.24H25.2884V68H20.6484Z" fill={logoColor} />
      <path
        d="M38.2184 57.36C38.2184 55.2 38.6318 53.4267 39.4584 52.04C40.2851 50.6534 41.3518 49.6267 42.6584 48.96C43.9918 48.2667 45.3784 47.92 46.8184 47.92V52.2C45.5918 52.2 44.4318 52.3734 43.3384 52.72C42.2718 53.04 41.4051 53.5734 40.7384 54.32C40.0718 55.0667 39.7384 56.0534 39.7384 57.28L38.2184 57.36ZM35.2584 68V48H39.7384V68H35.2584Z"
        fill={logoColor}
      />
      <path
        d="M61.9897 68L61.7897 64.24V57.72C61.7897 56.36 61.643 55.2267 61.3497 54.32C61.083 53.3867 60.6297 52.68 59.9897 52.2C59.3764 51.6934 58.5497 51.44 57.5097 51.44C56.5497 51.44 55.7097 51.64 54.9897 52.04C54.2697 52.44 53.6564 53.0667 53.1497 53.92L49.2297 52.48C49.6564 51.6 50.2164 50.7867 50.9097 50.04C51.6297 49.2667 52.523 48.6534 53.5897 48.2C54.683 47.7467 55.9897 47.52 57.5097 47.52C59.4564 47.52 61.083 47.9067 62.3897 48.68C63.6964 49.4267 64.6564 50.5067 65.2697 51.92C65.9097 53.3334 66.2297 55.04 66.2297 57.04L66.1097 68H61.9897ZM56.2297 68.48C53.8297 68.48 51.963 67.9467 50.6297 66.88C49.323 65.8134 48.6697 64.3067 48.6697 62.36C48.6697 60.28 49.363 58.6934 50.7497 57.6C52.163 56.5067 54.123 55.96 56.6297 55.96H61.9897V59.4H58.0697C56.283 59.4 55.0297 59.6534 54.3097 60.16C53.5897 60.64 53.2297 61.3334 53.2297 62.24C53.2297 63.0134 53.5364 63.6267 54.1497 64.08C54.7897 64.5067 55.6697 64.72 56.7897 64.72C57.803 64.72 58.683 64.4934 59.4297 64.04C60.1764 63.5867 60.7497 62.9867 61.1497 62.24C61.5764 61.4934 61.7897 60.6534 61.7897 59.72H63.1097C63.1097 62.44 62.563 64.5867 61.4697 66.16C60.3764 67.7067 58.6297 68.48 56.2297 68.48Z"
        fill={logoColor}
      />
      <path
        d="M80.1263 68.48C78.0729 68.48 76.2596 68.04 74.6863 67.16C73.1129 66.2534 71.8729 65.0134 70.9663 63.44C70.0863 61.8667 69.6463 60.0534 69.6463 58C69.6463 55.9467 70.0863 54.1334 70.9663 52.56C71.8729 50.9867 73.0996 49.76 74.6463 48.88C76.2196 47.9734 78.0196 47.52 80.0462 47.52C82.0196 47.52 83.8062 48 85.4062 48.96C87.0063 49.8934 88.1929 51.24 88.9663 53L84.8063 54.6C84.3796 53.72 83.7263 53.0134 82.8463 52.48C81.9663 51.9467 80.9663 51.68 79.8463 51.68C78.7529 51.68 77.7796 51.96 76.9263 52.52C76.0729 53.0534 75.4063 53.8 74.9263 54.76C74.4463 55.6934 74.2063 56.7734 74.2063 58C74.2063 59.2267 74.4463 60.32 74.9263 61.28C75.4329 62.2134 76.1129 62.96 76.9663 63.52C77.8463 64.0534 78.8329 64.32 79.9263 64.32C81.0463 64.32 82.0463 64.04 82.9263 63.48C83.8063 62.8934 84.4596 62.1067 84.8863 61.12L89.0463 62.72C88.2729 64.5334 87.0863 65.9467 85.4863 66.96C83.9129 67.9734 82.1263 68.48 80.1263 68.48Z"
        fill={logoColor}
      />
      <path
        d="M96.8041 62.4L94.0841 59.32L104.484 48H109.884L96.8041 62.4ZM92.5241 68V40H97.0041V68H92.5241ZM105.244 68L98.2041 57.64L101.124 54.52L110.564 68H105.244Z"
        fill={logoColor}
      />
    </svg>
  );

  return redirect ? (
    <a
      href="/"
      className="focus-visible:border-ring focus-visible:ring-ring/50 rounded-xl border border-transparent focus-visible:ring-[3px] transition-all shrink-0 [&_svg]:shrink-0 outline-none select-none"
    >
      {logoSvg}
    </a>
  ) : (
    logoSvg
  );
}

export default Logo;
